<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bar Mitsva de Benjamin</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f5f8fc;
      color: #333;
    }
    header {
      background: #003366;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      background: #0055aa;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      padding: 1rem;
      flex-wrap: wrap;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .content-section {
      display: none;
      padding: 2rem;
    }
    .content-section.active {
      display: block;
    }
    h2 {
      color: #003366;
    }

    /* Images infos */
    .info-images {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    .info-images img {
      max-width: 45%;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    /* Carte d‚Äôembarquement */
    .boarding-pass {
      position: relative;
      background: white;
      border: 2px dashed #003366;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      overflow: hidden;
      width: 90%;
      max-width: 650px;
      margin: 1.5rem auto;
      animation: fadeIn 0.6s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .boarding-pass::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url("fond_carte.png") center/cover no-repeat, #e6eef5;
      opacity: 0.2;
      pointer-events: none;
    }
    .boarding-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .boarding-header h3 {
      margin: 0;
      color: #003366;
      font-size: 1.2rem;
    }
    .boarding-details {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.5rem 1rem;
      margin-bottom: 1rem;
    }
    .boarding-details div {
      font-size: 0.95rem;
    }
    .boarding-details strong {
      display: block;
      font-size: 0.8rem;
      color: #555;
    }
    .boarding-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 1rem;
    }
    .boarding-footer img {
      width: 90px;
    }
    .note {
      font-size: 0.85rem;
      color: #444;
      margin-top: 0.5rem;
      text-align: center;
    }

    .select-wrapper {
      margin-bottom: 2rem;
      text-align: center;
    }
    select {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border: 2px solid #003366;
      border-radius: 6px;
    }
    .admin-btn {
      display: block;
      margin: 1rem auto;
      background: #003366;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .download-btn {
      display: inline-block;
      background: #0055aa;
      color: white;
      padding: 0.3rem 0.6rem;
      border-radius: 6px;
      font-size: 0.9rem;
      text-decoration: none;
      cursor: pointer;
    }

    /* üîπ Correction impression */
    @media print {
      body {
        background: white !important;
      }
      .boarding-pass {
        page-break-inside: avoid;
        break-inside: avoid;
        margin: 1rem auto;
      }
      nav, .admin-btn, .download-btn, select, .select-wrapper, header {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Bar Mitsva de Benjamin üéâ‚ú®</h1>
  </header>

  <nav>
    <a onclick="showSection('info')">üìç Informations utiles</a>
    <a onclick="showSection('boarding')">üõ≥Ô∏è Cartes d‚Äôembarquement</a>
  </nav>

  <!-- Section Infos utiles -->
  <section id="info" class="content-section active">
    <h2>üìç Informations utiles</h2>
    <div class="info-images">
      <img src="Shabbat.jpg" alt="C√©l√©bration du Shabbat">
      <img src="TephilineFete.jpg" alt="Tefilline et f√™te">
      <img src="PlanDacces_BelAmi.jpg" alt="Plan d‚Äôacc√®s au bateau Bel-Ami">
    </div>
  </section>

  <!-- Section Cartes d‚Äôembarquement -->
  <section id="boarding" class="content-section">
    <h2>üõ≥Ô∏è Cartes d‚Äôembarquement</h2>

    <div class="select-wrapper">
      <label for="guestSelect"><strong>S√©lectionnez votre nom :</strong></label><br>
      <select id="guestSelect">
        <option value="">-- Choisir un invit√© --</option>
      </select>
    </div>

    <div id="boardingContainer"></div>

    <!-- Bouton admin -->
    <button class="admin-btn" onclick="showAllCards()">Afficher toutes les cartes (admin)</button>
  </section>

  <!-- Librairie pour export PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
  const guests = [
    { name: "Alcoulombe Fabrice et Gaelle", table: "Friends" },
    { name: "Allali Dan et Julie", table: "Friends" },
    { name: "Amar Mickael et Elodie", table: "Casa de Papel" },
    { name: "Amar Paulette", table: "Dallas" },
    { name: "Amar Samuel", table: "Casa de Papel" },
    { name: "Amar Shana", table: "Casa de Papel" },
    { name: "Aouizerate St√©phane et Myriam", table: "Dallas" },
    { name: "Aouizerate Yona", table: "Outer Banks" },
    { name: "Athuil Ava", table: "Outer Banks" },
    { name: "Ayach Liora", table: "Outer Banks" },
    { name: "Azuelos Gad et Esther", table: "Fauda" },
    { name: "Azuelos Haim", table: "Cobra Kai" },
    { name: "Benchimol Yaakov", table: "Cobra Kai" },
    { name: "Bensoussan Gabriella", table: "Outer Banks" },
    { name: "Berrebi Samuel et Rebecca", table: "Fauda" },
    { name: "Bismuth Aron", table: "Cobra Kai" },
    { name: "Bokobza Dan et Yardena", table: "Fauda" },
    { name: "Bokobza Liam", table: "Cobra Kai" },
    { name: "Boni Benjamin", table: "Cobra Kai" },
    { name: "Boni Charles et Elyette", table: "Bridgerton" },
    { name: "Boni David, L√©vi et T√©hila", table: "Bridgerton" },
    { name: "Boni Eden", table: "Outer Banks" },
    { name: "Boni Mikael et Sandra", table: "Friends" },
    { name: "Boni Raphael", table: "Outer Banks" },
    { name: "Choukroun Rolland et Lydia", table: "Dallas" },
    { name: "Drai Nathan", table: "Cobra Kai" },
    { name: "Elbeze Anael", table: "Casa de Papel" },
    { name: "Elbeze Eddy, No√©mie et Noa", table: "Fauda" },
    { name: "Esseryk Shana", table: "Outer Banks" },
    { name: "Guedj Jean Claude et Dominique", table: "Dallas" },
    { name: "Haccoun Avraham", table: "Outer Banks" },
    { name: "Hadouk Ari", table: "Cobra Kai" },
    { name: "Hazout Stella", table: "Outer Banks" },
    { name: "Lebhar Chlomo", table: "Cobra Kai" },
    { name: "Lujic Ethan", table: "Outer Banks" },
    { name: "Malka Isaac et Judith", table: "Bridgerton" },
    { name: "Malka Serge et Sandra", table: "Bridgerton" },
    { name: "Rouach Raphael et Audrey", table: "Fauda" },
    { name: "Slakmon Ruben", table: "Cobra Kai" },
    { name: "Tebeka Michael et Yael", table: "Casa de Papel" },
    { name: "Tebeka Shelly", table: "Casa de Papel" },
    { name: "Tebeka Shirel", table: "Casa de Papel" },
    { name: "Teboul Ouriel", table: "Cobra Kai" },
    { name: "Tibi Yohan et Nathalie", table: "Friends" },
    { name: "Valenzi Eli", table: "Outer Banks" },
    { name: "Zerbib Freddy", table: "Dallas" },
    { name: "Zerbib Gerard et Brigitte", table: "Dallas" },
    { name: "Zerbib Yaron", table: "Cobra Kai" }
  ];

  const container = document.getElementById("boardingContainer");
  const select = document.getElementById("guestSelect");

  // Remplir la liste d√©roulante
  guests.forEach((guest, i) => {
    const option = document.createElement("option");
    option.value = i;
    option.textContent = guest.name;
    select.appendChild(option);
  });

  function createCard(guest, index) {
    return `
      <div class="boarding-pass" id="card-${index}">
        <div class="boarding-header">
          <h3>üéü Carte d‚Äôembarquement</h3>
          <span><strong>Passager :</strong> ${guest.name}</span>
        </div>
        <div class="boarding-details">
          <div><strong>Bateau</strong> P√©niche Bel-Ami</div>
          <div><strong>Date</strong> Dim. 14 Sept. 2025</div>
          <div><strong>Boarding</strong> 19h00 pr√©cises</div>
          <div><strong>Retour</strong> 23h00 env.</div>
          <div><strong>Gate</strong> Port Les Studios <br>(face au 52 Quai du Point du Jour)</div>
          <div><strong>Seat</strong> Table ${guest.table}</div>
          <div><strong>Aller / Retour </strong> Boulogne -> Biblioth√®que Fran√ßois Mitterand</div>
        </div>
        <div class="boarding-footer">
          <span>üéÅ <strong>Ne pas oublier :</strong> votre <em>cadeau souvenir de la Bar Mitzva</em></span><br>
          <span><img src="qr_montres.png" alt="QR Code"></span>
          <p style="text-align:center; margin-top:30px;">
            <a href="https://www.instagram.com/maguen.chalom?igsh=YmZwODQ5dHo0NHBu" target="_blank">
              <img src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png" alt="Instagram" width="30" style="vertical-align:middle;">
            </a>
          </p>
        </div>
        <p class="note">Merci d‚Äôarriver 30 minutes en avance pour l‚Äôembarquement ‚è±</p>
        <div style="text-align:center; margin-top:1rem;">
          <button class="download-btn" onclick="downloadCard(${index})">üìÑ T√©l√©charger en PDF</button>
        </div>
      </div>
    `;
  }

  // Afficher la carte s√©lectionn√©e
  select.addEventListener("change", () => {
    container.innerHTML = "";
    const value = select.value;
    if (value !== "") {
      container.innerHTML = createCard(guests[value], parseInt(value));
      container.scrollIntoView({ behavior: "smooth" });
    }
  });

  // Mode admin
  function showAllCards() {
    let passcode = prompt("Mot de passe admin ?");
    if (passcode === "BMadmin") {
      container.innerHTML = "";
      guests.forEach((guest, i) => {
        container.innerHTML += createCard(guest, i);
      });
      container.scrollIntoView({ behavior: "smooth" });
    } else {
      alert("Mot de passe incorrect !");
    }
  }

  // T√©l√©charger en PDF
  function downloadCard(index) {
    const element = document.getElementById(`card-${index}`);
    const opt = {
      margin: 0.5,
      filename: `Carte_BarMitsva_${guests[index].name.replace(/ /g,"_")}.pdf`,
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
    };
    html2pdf().from(element).set(opt).save();
  }

  function showSection(id) {
    document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(id).classList.add('active');
  }
</script>
</body>
</html>
